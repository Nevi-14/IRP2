<ion-header class="ion-no-border">
  <ion-toolbar color="dark">


    <ion-list style="background: transparent!important;margin:0;padding:0" lines="none">
      <ion-item>
        <ion-title class="ion-text-left" style="font-size: 0.9rem;letter-spacing: 0.2rem; text-transform: uppercase;" color="light">Planificaci√≥n de Entregas</ion-title>

   
        <ion-buttons slot="end" >

          <ion-button  (click)="presentPopover($event)"    shape="round" color="dark" size="small">
            <ion-icon color="light" name="storefront-outline"></ion-icon>
            <ion-badge color="primary" mode="ios">{{rutas.length}}</ion-badge>
          </ion-button>
          <ion-popover mode="ios"  #popover [isOpen]="isOpen" (didDismiss)="isOpen = false">
            <ng-template>
              <ion-content class="ion-padding">

                <ion-list>
                  <ion-item *ngFor="let ruta of rutas">
                    <ion-label class="ion-text-wrap">{{ruta.DESCRIPCION}}</ion-label>
           
                    <button (click)="removerRuta(ruta)"  size="small" color="clear">

                      <ion-icon  slot="end" color="danger" name="close-outline"></ion-icon>

                    </button>
                  </ion-item>
                </ion-list>


              </ion-content>
            </ng-template>



          
          </ion-popover>
          <ion-button   [routerLink]="['/inicio']" fill="solid" shape="round" color="dark" size="small">
            <ion-icon name="home-outline"></ion-icon>
          </ion-button>

          <ion-button (click)="gestionGuias()" color="primary"  fill="solid" shape="round">
            Gestionar Guias
          </ion-button>

          <ion-button  shape="round" fill="solid" color="dark" (click)="gestionErrores()">
            <ion-icon  name="bug"></ion-icon>
            <ion-badge color="primary" mode="ios">{{planificacionEntregasService.errorArray.length}}</ion-badge>
          </ion-button>
 
          <ion-button  shape="round" fill="solid" color="dark" (click)="listaGuias()">
            <ion-icon name="bus-outline"></ion-icon>
            <ion-badge color="primary" mode="ios">0</ion-badge>
          </ion-button>


       
          <ion-button   *ngIf="controlCamionesGuiasService.rutaZona" (click)="limpiarDatos()"  shape="round" fill="solid" color="dark">
            <ion-icon  name="refresh"></ion-icon>
          </ion-button>
          <ion-button  shape="round" fill="solid" color="dark" (click)="configuracionZonaRuta()">
            <ion-icon class="spin-element"  name="settings"></ion-icon>
          </ion-button>
          <ion-button  shape="round" fill="solid" color="dark" (click)="reporteFacturas()">
            <ion-icon name="search-outline"></ion-icon>

          </ion-button>
        

          <ion-button *ngIf="controlCamionesGuiasService.rutaZona" shape="round" fill="solid" color="dark" (click)="calendarioModal()">
            <ion-icon   name="calendar"></ion-icon>
          </ion-button>
  
          <ion-button    [routerLink]="['/log-in']" fill="solid" shape="round" color="danger" size="small">
            <ion-label slot="start">Salir</ion-label>
            <ion-icon name="close" slot="end"> </ion-icon>
          </ion-button>
        </ion-buttons>
      </ion-item>
    </ion-list>
  </ion-toolbar>
</ion-header>




<ion-content class="ion-padding">

  <ion-grid  style="height: 100%;">
  <ion-row    style="height: 100%;">
  
        
  <ion-col size="12">
  
  <div  #mapa  [ngStyle]="{
    'height': '100%',
    'width': '100%'
  }" class="mapa"></div>
  
  </ion-col>
  
  
             
  
  
  </ion-row>
  </ion-grid>
  
  </ion-content>
  