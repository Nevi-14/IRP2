
  <ion-toolbar  >
    <ion-grid >
      <ion-row>
        <ion-col size="6" style="display: flex; justify-content: center;align-items: right;">
          <ion-title class="ion-text-uppercase" style="text-align: left;">Lista de clientes <ion-badge color="dark" mode="ios">{{guia.idGuia}}</ion-badge></ion-title>
        
        </ion-col>
        <ion-col size="5" style="display: flex; justify-content: center;align-items: right;">
      
          <ion-searchbar    mode="ios" placeholder="Buscar cliente" inputmode="text" (ionChange)="onSearchChange($event)" debounce="250" ></ion-searchbar>
        </ion-col>
      </ion-row>

      <ion-row>
   
        <ion-col   size="3">
        
        <ion-label class="ion-margin">Peso Total : {{guia.camion.peso.toFixed(2)}} KG </ion-label>
        
        </ion-col>
        
        
        <ion-col   size="3">
        <ion-label class="ion-margin">Total Bultos:   {{guia.camion.volumen.toFixed(2)}} Bultos</ion-label>
        
        </ion-col>
        <ion-col  size="3">
          
          <ion-label class="ion-margin">Fecha de entrega  {{guia.fecha}}</ion-label>
          
        </ion-col>
        <ion-col size="3" >
          <ion-label class="ion-margin">Total Clientes {{guia.clientes.length}} /  Facturas : {{guia.facturas.length}}</ion-label>
      
                </ion-col>
            </ion-row>
    </ion-grid>
    
        
      </ion-toolbar>


<ion-content class="ion-padding">
  

    
     
 
 

        <ion-item *ngFor="let cliente of clientes" lines="none">
          <ion-grid >
            <ion-row>
              <ion-col size="12" >
          <ion-item lines="none">
            <ion-label color="primary" class="ion-text-wrap ion-text-uppercase" slot="start"  style="display: flex;justify-content:left;align-items:center">
              
              <ion-badge style="margin-right: 1rem;"  color="warning" mode="ios" >{{cliente.id}}</ion-badge>
              <strong>{{cliente.nombre}}</strong></ion-label>
           
          </ion-item>
              </ion-col>
      
              <ion-col size="12" >
              <ion-item lines="none">
          <ion-grid >
            <ion-row class="header-row">
              <ion-col size="5" class="ion-text-wrap">Factura</ion-col>
       
              <ion-col size="2" class="ion-text-wrap">Frio / Seco</ion-col>
              <ion-col size="2" class="ion-text-wrap">Bultos</ion-col>
              <ion-col size="2" class="ion-text-wrap">Peso</ion-col>
          <ion-col size="1">
            
          </ion-col>
  
  
            </ion-row>
  
          </ion-grid>
              </ion-item>
              <ion-item>
              <ion-grid >
                  <ion-row class="data-row"  *ngFor="let factura of cliente.facturas; let i = index;" >
     
            <ion-col size="5" >
              <ion-label>{{factura.FACTURA}}</ion-label>
             
                 </ion-col>
                 <ion-col size="2" class="ion-text-center">
      
                  <ion-icon size="large" color="primary" *ngIf="factura.FRIO_SECO == 'F'" name="snow-outline"></ion-icon>
    
    
                  
                </ion-col>
                <ion-col size="2">
                  <ion-label class="ion-text-wrap">{{factura.RUBRO1}}</ion-label>
                </ion-col>
                <ion-col size="2">
                  <ion-label class="ion-text-wrap">{{factura.TOTAL_PESO_NETO}}</ion-label>
                </ion-col>
                <ion-col size="1">
                  <ion-button  
                  (click)="borrarFacturaGuia(cliente, factura, i)" fill="clear">
                  <ion-icon color="danger" slot="icon-only" name="trash"></ion-icon>
                </ion-button>
                </ion-col>
           </ion-row>
            
            
               
              </ion-grid>
      
              </ion-item>
      
          
      
              </ion-col>
            </ion-row>
          </ion-grid>
            </ion-item>
  
 
</ion-content>

<ion-fab vertical="top" horizontal="end" slot="fixed">
  <ion-fab-button (click)="cerrarModal()" size="small" color="danger"> 
    <ion-icon name="close-outline"></ion-icon>
  </ion-fab-button>
</ion-fab>