

  <ion-header id="header" class="ion-no-border" color="primary">

  
    <ion-grid  >

      <ion-row >
        <ion-col size="6">
<ion-item>
  <ion-label ><ion-badge color="dark">Ruta</ion-badge> {{rutas.ruta.DESCRIPCION | rutas }} <ion-badge>{{rutas.ruta.RUTA}}</ion-badge></ion-label>
  <ion-label ><ion-badge color="dark">Zona</ion-badge> {{zonas.zona.NOMBRE}} <ion-badge>{{zonas.zona.ZONA}}</ion-badge></ion-label>
</ion-item>
        </ion-col>

    
    <ion-col size="3">

     <ion-card-header>
       <ion-card-title class="ion-text-center">Guardar Rutas IRP</ion-card-title>
     </ion-card-header>

    </ion-col>
    <ion-col size="3" style="margin-top: 15px;">
      <ion-buttons   class="margin-rignt">
        <ion-button  shape="round" fill="solid" color="dark" (click)="mostrarRuta($event)">
          <ion-icon class="spin-element"  name="settings"></ion-icon>
        </ion-button>
        <ion-button  shape="round" fill="solid" color="primary" (click)="menuCliente()">
          <ion-icon  name="person-add"></ion-icon>
        </ion-button>

        <ion-button *ngIf="clientes?.clientesRutas?.length > 0"  (click)="postRutas()"  shape="round" fill="solid" color="secondary">
      <ion-icon  name="save"></ion-icon>
        </ion-button>
        <ion-button  shape="round" fill="solid" color="dark" (click)="mapaCompleto()">
          <ion-icon  name="map"></ion-icon>
        </ion-button>
      </ion-buttons>
    </ion-col>
  
      </ion-row>
    </ion-grid>
  </ion-header>


<ion-content>

  <ion-list lines="none">
<ion-grid >
  <ion-row  style="margin-top: 80px;">
 
        
<ion-col size="4">
  <ion-row>
    <ion-col size="12">
      <ion-searchbar mode="ios" placeholder="Buscar cliente" inputmode="text"  (ionChange)="onSearchChange($event)" debounce="250" ></ion-searchbar>
      <ion-item>
        <ion-label slot="start">
          <ion-badge color="dark" mode="ios">Clientes Actuales</ion-badge>
            </ion-label>
        <ion-buttons slot="end">
          <ion-label>{{clientes?.rutasClientes?.length}}</ion-label> 
        </ion-buttons>
      </ion-item>

    </ion-col>

    <ion-col size="12">
            
      <ion-item *ngFor="let cliente of clientes.rutasClientes | filtroClientes: textoBuscar:'NOMBRE' ; let i = index;">
        
      
        <ion-label>{{cliente.NOMBRE}}</ion-label>
        <ion-buttons slot="end">
        
          <ion-button >
   
           
          </ion-button>
          <ion-button (click)="detalleClientes(cliente)" color="secondary" fill="solid" shape="round" class="btn-sm">
            <ion-icon  name="eye"></ion-icon>
           
          </ion-button>
          <ion-button (click)="irMarcador(i)" color="warning" >
            <ion-icon  name="navigate"></ion-icon>
           
          </ion-button>

          
          
        </ion-buttons>
      </ion-item>

    </ion-col>
    <ion-col size="12">
      <ion-item >
        <ion-label slot="start">
        <ion-badge color="dark" mode="ios">Clientes Nuevos</ion-badge>
        
        
        </ion-label>
              
        <ion-buttons slot="end">
          <ion-label>{{clientes?.clientesRutas?.length}}</ion-label>
        </ion-buttons> 
        </ion-item>

    </ion-col>

    <ion-col size="12">
       <ion-item *ngFor="let cliente of clientes.clientesRutas | filtroClientes: textoBuscar:'NOMBRE' ; let i = index;">
        
      
                <ion-label>{{cliente.cliente.NOMBRE}}</ion-label>
      
                <ion-buttons slot="end">
                
                  <ion-button >
                    <ion-checkbox (click)="addValue($event,cliente.cliente)"   [(ngModel)]="cliente.select"  slot="start"></ion-checkbox>
                   
                  </ion-button>
                  <ion-button (click)="detalleClientes(cliente.cliente)" color="secondary" fill="solid" shape="round" class="btn-sm">
                    <ion-icon  name="eye"></ion-icon>
                   
                  </ion-button>
               
                  <ion-button (click)="delete(cliente.cliente)" color="danger" fill="solid" shape="round" clas  s="btn-sm">
                    <ion-icon  name="trash"></ion-icon>
                   
                  </ion-button>
               
                  
                </ion-buttons>
                
              </ion-item>
    </ion-col>
  </ion-row>
</ion-col>

<ion-col size="8" style="height: 435px;width:100%;">


      <app-marcadores></app-marcadores>

</ion-col>
             


  </ion-row>
</ion-grid>
</ion-list>
</ion-content>
