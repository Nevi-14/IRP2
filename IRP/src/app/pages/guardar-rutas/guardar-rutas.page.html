<app-header></app-header>

<ion-content >


<ion-grid style="padding: 0%;">
  <ion-row >

<ion-col size="5" style=" min-height: 100vh;">
  <ion-row>

    <ion-col size="12">
<ion-list lines="none">
        
  <ion-item-divider>
    <ion-label slot="start"><ion-badge color="dark">Ruta</ion-badge> {{rutas.ruta.DESCRIPCION | rutas }} <ion-badge>{{rutas.ruta.RUTA}}</ion-badge></ion-label>
        
   </ion-item-divider>
   <ion-item-divider>
    <ion-label slot="start"><ion-badge color="dark">Zona</ion-badge> {{zonas.zona.NOMBRE}} <ion-badge>{{zonas.zona.ZONA}}</ion-badge></ion-label>
        
   </ion-item-divider>

</ion-list>
    </ion-col>
    
    <ion-col size="7">
      <ion-searchbar mode="ios" placeholder="Buscar cliente" inputmode="text" (ionChange)="onSearchChange($event)" debounce="250" ></ion-searchbar>
    </ion-col>
    <ion-col size="4" style="display: grid; place-content: center;">
      <ion-buttons   class="margin-rignt" style="margin: 0 auto;">
        <ion-button  shape="round" fill="solid" color="dark" (click)="mostrarRuta()">
          <ion-icon class="spin-element"  name="settings"></ion-icon>
        </ion-button>
        <ion-button  shape="round" fill="solid" color="primary" (click)="menuCliente()">
          <ion-icon  name="person-add"></ion-icon>
        </ion-button>
   
        <ion-button *ngIf="clientes?.clientesRutas?.length > 0"  (click)="postRutas()"  shape="round" fill="solid" color="secondary">
      <ion-icon  name="save"></ion-icon>
        </ion-button>
      </ion-buttons>
    </ion-col>


    <ion-col size="12" class="scroll">
      <ion-list lines="none">
        
   <ion-item-divider>
    <ion-label slot="start">Clientes Actuales</ion-label>
        
          <ion-buttons slot="end">
            <ion-label>{{clienteEspejo?.rutas?.length}}</ion-label> 
          </ion-buttons>
   </ion-item-divider>


        <ion-item *ngFor="let cliente of clienteEspejo.rutas | filtroClientes: textoBuscar:'NOMBRE' ; let i = index;">
  

          <ion-label>{{cliente.NOMBRE}}</ion-label>
          <ion-buttons slot="end">
          
            <ion-button >
     
             
            </ion-button>
            <ion-button (click)="detalleClientes(cliente)" color="secondary" fill="solid" shape="round" class="btn-sm">
              <ion-icon  name="eye"></ion-icon>
             
            </ion-button>
            <ion-button (click)="home.irpMarcador(i)" color="warning" fill="solid" shape="round" clas  s="btn-sm">
              <ion-icon  name="navigate"></ion-icon>
             
            </ion-button>
            <ion-button (click)="delete(cliente.Idcliente)" color="danger" fill="solid" shape="round" clas  s="btn-sm">
              <ion-icon  name="trash"></ion-icon>
             
            </ion-button>
            
            
          </ion-buttons>
        </ion-item>
<ion-item-divider>
  <ion-label slot="start">Clientes En Ruta</ion-label>
        
  <ion-buttons slot="end">
    <ion-label>{{clientes?.clientesRutas?.length}}</ion-label>
  </ion-buttons> 
</ion-item-divider>
        <ion-item *ngFor="let cliente of clientes.clientesRutas | filtroClientes: textoBuscar:'NOMBRE' ; let i = index;">
  

          <ion-label>{{cliente.cliente.NOMBRE}}</ion-label>
          <ion-buttons slot="end">
          
            <ion-button >
              <ion-checkbox (click)="addValue($event,cliente.cliente)"   [(ngModel)]="cliente.select"  slot="start"></ion-checkbox>
             
            </ion-button>
            <ion-button (click)="detalleClientes(cliente.cliente)" color="secondary" fill="solid" shape="round" class="btn-sm">
              <ion-icon  name="eye"></ion-icon>
             
            </ion-button>
            <ion-button (click)="home.irpMarcador(i)" color="warning" fill="solid" shape="round" clas  s="btn-sm">
              <ion-icon  name="navigate"></ion-icon>
             
            </ion-button>
            <ion-button (click)="delete(cliente.cliente.Idcliente)" color="danger" fill="solid" shape="round" clas  s="btn-sm">
              <ion-icon  name="trash"></ion-icon>
             
            </ion-button>
         
            
          </ion-buttons>
          
        </ion-item>
      </ion-list>
    </ion-col>
  </ion-row>
</ion-col>
<ion-col size="7" >
  <section id='mapa'></section>
  



</ion-col>
  </ion-row>
</ion-grid>

</ion-content>
